"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[495],{495:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var o=t(9950),l=t(1320),s=t(2235),i=t(5769),r=t(9780),a=t(9213),d=t(1671),c=t(4075),h=t(899),u=t(4638),m=t(226),p=t(2712),x=t(9928),j=t(8469),v=t(5333),g=t(7999),A=t(7988),f=t(8429),b=t(4414);const y=()=>{const[e,n]=(0,o.useState)(),[t,y]=(0,o.useState)(!0),[S,C]=(0,o.useState)(""),[P,W]=(0,o.useState)(""),[k,z]=(0,o.useState)(""),[N,D]=(0,o.useState)(""),[E,I]=(0,o.useState)({}),[q,w]=(0,o.useState)([]),[H,$]=(0,o.useState)(!1),F=(0,f.Zp)();function L(){j.A.get("/contactInfo/getContactRecords").then((e=>{w(e.data)})).catch((e=>{var n;console.log("err",e),401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&F("/auth/login")}))}(0,o.useEffect)((()=>{L()}),[t,H]);return(0,b.jsx)(p.A,{title:"Header Contact",description:"this is Sample page",children:(0,b.jsx)(x.A,{title:"Header Contact",buttonName:t?"Add Contact Info":"View Contact",onClick:t?()=>{y(!1),$(!1)}:()=>{y(!0),$(!0)},children:t?(0,b.jsx)(l.A,{component:s.A,children:(0,b.jsxs)(i.A,{stickyHeader:!0,children:[(0,b.jsx)(r.A,{children:(0,b.jsxs)(a.A,{children:[(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Sr No."}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Phone 1"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Phone 2"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Phone 3"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Email"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Action"})]})}),(0,b.jsx)(c.A,{children:0==q.length?(0,b.jsx)("div",{style:{marginLeft:"10px",color:"red"},children:(0,b.jsx)("h3",{children:"No data found"})}):q.map(((e,t)=>(console.log("item",e),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(a.A,{children:[(0,b.jsx)(d.A,{children:t+1}),(0,b.jsx)(d.A,{children:null===e||void 0===e?void 0:e.phone1}),(0,b.jsx)(d.A,{children:null===e||void 0===e?void 0:e.phone2}),(0,b.jsx)(d.A,{children:null===e||void 0===e?void 0:e.phone3}),(0,b.jsx)(d.A,{children:null===e||void 0===e?void 0:e.email}),(0,b.jsx)(v.A,{"aria-label":"edit",style:{color:"blue"},onClick:()=>(e=>{C(e.phone1),W(e.phone2),z(e.phone3),D(e.email),n(e.id),y(!1),$(!0)})(e),children:(0,b.jsx)(g.A,{})}),(0,b.jsx)(v.A,{"aria-label":"delete",style:{color:"red"},onClick:()=>(e=>{j.A.delete("/contactInfo/records/".concat(e)).then((e=>{console.log("Data deleted successfully"),L()})).catch((e=>{var n;401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&F("/auth/login"),console.error("Error deleting data:",e)}))})(null===e||void 0===e?void 0:e.id),children:(0,b.jsx)(A.A,{})})]})}))))})]})}):(0,b.jsx)("form",{onSubmit:H?n=>{n.preventDefault();let t={phone1:S,phone2:P,phone3:k,email:N};j.A.put("/contactInfo/records/".concat(e),t).then((e=>{console.log("response",e),console.log("data updated successfully"),L(),y(!0),console.log("Data edited successfully")})).catch((e=>{var n;401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&F("/auth/login"),console.error("Error updating data:",e)}))}:e=>{if(e.preventDefault(),(()=>{let e={},n=!0;return S.trim()?/^[6789]\d{9}$/.test(S.trim())||(e.phone1="Phone number must be 10 digits long",n=!1):(e.phone1="Phone number is required",n=!1),P.trim()?/^[6789]\d{9}$/.test(P.trim())||(e.phone2="Phone number must be 10 digits long",n=!1):(e.phone2="Phone number is required",n=!1),k.trim()?/^[6789]\d{9}$/.test(k.trim())||(e.phone3="Phone number must be 10 digits long",n=!1):(e.phone3="Phone number is required",n=!1),N.trim()||(e.email="email is required",n=!1),I(e),n})()){let e={phone1:S,phone2:P,phone3:k,email:N};j.A.post("/contactInfo/records",e,{headers:{"Content-Type":"application/json"}}).then((e=>{console.log("resp",e),alert("Data added successfully"),L()})).catch((e=>{var n;401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&F("/auth/login"),console.log("err",e)})),C(""),W(""),z(""),D(""),I({}),y(!0),$(!1)}},children:(0,b.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,b.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(u.A,{fullWidth:!0,label:"Phone 1",value:S,onChange:e=>C(e.target.value),variant:"outlined"}),E.phone1&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:E.phone1})]}),(0,b.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(u.A,{fullWidth:!0,label:"Phone 2",value:P,onChange:e=>W(e.target.value),variant:"outlined"}),E.phone2&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:E.phone2})]}),(0,b.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(u.A,{fullWidth:!0,label:"Phone 3",value:k,onChange:e=>z(e.target.value),variant:"outlined"}),E.phone3&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:E.phone3})]}),(0,b.jsxs)(h.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(u.A,{fullWidth:!0,label:"Email",value:N,onChange:e=>D(e.target.value),variant:"outlined"}),E.email&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:E.email})]}),(0,b.jsx)(h.Ay,{item:!0,xs:12,children:(0,b.jsx)(m.A,{variant:"contained",type:"submit",color:"".concat(H?"success":"primary"),children:"Submit"})})]})})})})}}}]);