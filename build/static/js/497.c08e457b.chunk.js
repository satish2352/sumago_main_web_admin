"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[497],{5497:(e,i,t)=>{t.r(i),t.d(i,{default:()=>S});var l=t(9950),n=t(1320),s=t(2235),r=t(5769),a=t(9780),o=t(9213),d=t(1671),c=t(4075),m=t(899),h=t(1239),u=t(9277),x=t(9890),g=t(226),j=t(2712),A=t(9928),p=t(8469),f=t(5333),y=t(7999),v=t(7988),b=t(4414);const S=()=>{const[e,i]=(0,l.useState)(null),[t,S]=(0,l.useState)(!1),[w,C]=(0,l.useState)(""),[N,W]=(0,l.useState)(""),[k,z]=(0,l.useState)(""),[T,D]=(0,l.useState)(null),[q,F]=(0,l.useState)({}),[R,E]=(0,l.useState)([]);(0,l.useEffect)((()=>{p.A.get("/testimonials/find").then((e=>{E(e.data)})).catch((e=>{console.log("err",e)}))}),[t]);return(0,b.jsx)(j.A,{title:"Testimonials",description:"this is Sample page",children:(0,b.jsx)(A.A,{title:"Testimonials",buttonName:t?"View Testimonials":"Add Testimonial",onClick:t?()=>{S(!1)}:()=>{S(!0),i(null),C(""),W(""),z(""),D(null)},children:t?(0,b.jsx)(n.A,{component:s.A,children:(0,b.jsxs)(r.A,{stickyHeader:!0,children:[(0,b.jsx)(a.A,{children:(0,b.jsxs)(o.A,{children:[(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Name"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Designation"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Review"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Profile Image"}),(0,b.jsx)(d.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Action"})]})}),(0,b.jsx)(c.A,{children:0===R.length?(0,b.jsx)("div",{style:{marginLeft:"10px",color:"red"},children:(0,b.jsx)("h3",{children:"No data found"})}):R.map(((e,t)=>(0,b.jsxs)(o.A,{children:[(0,b.jsx)(d.A,{children:e.name}),(0,b.jsx)(d.A,{children:e.designation}),(0,b.jsx)(d.A,{children:e.review}),(0,b.jsx)(d.A,{children:(0,b.jsx)("img",{src:e.img,alt:e.name,style:{width:"100px",height:"100px"}})}),(0,b.jsxs)(d.A,{children:[(0,b.jsx)(f.A,{"aria-label":"edit",style:{color:"blue"},onClick:()=>(e=>{i(e.id),C(e.name),W(e.review),z(e.designation),D(null),S(!1)})(e),children:(0,b.jsx)(y.A,{})}),(0,b.jsx)(f.A,{"aria-label":"delete",style:{color:"red"},onClick:()=>{return i=e.id,void p.A.delete("/testimonials/delete/".concat(i)).then((e=>{console.log("Testimonial deleted successfully"),p.A.get("/testimonials/find").then((e=>{E(e.data)})).catch((e=>{console.log("err",e)}))})).catch((e=>{console.error("Error deleting testimonial:",e)}));var i},children:(0,b.jsx)(v.A,{})})]})]},t)))})]})}):(0,b.jsx)("form",{onSubmit:t=>{if(t.preventDefault(),(()=>{let i={},t=!0;return k.trim()||(i.designation="Designation is required",t=!1),N.trim()||(i.review="Review is required",t=!1),w.trim()||(i.name="Name is required",t=!1),T||e||(i.img="Image is required",t=!1),F(i),t})()){const t=new FormData;t.append("name",w),t.append("designation",k),t.append("review",N),T&&t.append("img",T);const l=e?"/testimonials/update/".concat(e):"/testimonials/create",n=e?"put":"post";(0,p.A)({method:n,url:l,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log("resp",e),alert("Form submitted successfully"),S(!0)})).catch((e=>{console.log("err",e)})),i(null),C(""),W(""),z(""),D(null),F({})}},children:(0,b.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,b.jsxs)(m.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(h.A,{fullWidth:!0,label:"Name",value:w,onChange:e=>C(e.target.value),variant:"outlined"}),q.name&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:q.name})]}),(0,b.jsxs)(m.Ay,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(h.A,{fullWidth:!0,label:"Designation",value:k,onChange:e=>z(e.target.value),variant:"outlined"}),q.designation&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:q.designation})]}),(0,b.jsxs)(m.Ay,{item:!0,xs:12,children:[(0,b.jsx)(h.A,{fullWidth:!0,multiline:!0,rows:2,value:N,onChange:e=>W(e.target.value),label:"Review",variant:"outlined"}),q.review&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:q.review})]}),(0,b.jsx)(m.Ay,{item:!0,xs:12,sm:12,children:(0,b.jsxs)("div",{children:[(0,b.jsx)(u.A,{style:{marginBottom:"10px"},children:"File Upload"}),(0,b.jsx)(x.A,{type:"file",onChange:e=>D(e.target.files[0]),fullWidth:!0,style:{marginTop:"10px"}}),q.img&&(0,b.jsx)("span",{className:"error",style:{color:"red"},children:q.img})]})}),(0,b.jsx)(m.Ay,{item:!0,xs:12,children:(0,b.jsx)(g.A,{variant:"contained",type:"submit",color:"primary",children:"Submit"})})]})})})})}}}]);