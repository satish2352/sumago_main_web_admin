"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[712],{712:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var l=n(9950),o=n(1320),s=n(2235),r=n(5769),i=n(9780),c=n(9213),a=n(1671),d=n(4075),u=n(899),h=n(1239),m=n(226),x=n(2712),j=n(9928),A=n(8469),g=n(5333),f=n(7999),p=n(7988),C=n(4414);const y=()=>{const[e,t]=(0,l.useState)(),[n,y]=(0,l.useState)(!0),[b,v]=(0,l.useState)(""),[S,k]=(0,l.useState)(""),[z,D]=(0,l.useState)({}),[N,W]=(0,l.useState)([]),[V,w]=(0,l.useState)(!1);function E(){A.A.get("/clientCount/getClientsRecord").then((e=>{W(e.data)})).catch((e=>{console.log("err",e)}))}(0,l.useEffect)((()=>{E()}),[n,V]);return(0,C.jsx)(x.A,{title:"Valuable Clients",description:"this is Sample page",children:(0,C.jsx)(j.A,{title:"ValuableClients",buttonName:n?"Add Valuable Clients":"View Valuable Clients",onClick:n?()=>{y(!1),w(!1)}:()=>{y(!0),w(!0)},children:n?(0,C.jsx)(o.A,{component:s.A,children:(0,C.jsxs)(r.A,{stickyHeader:!0,children:[(0,C.jsx)(i.A,{children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(a.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Sr No."}),(0,C.jsx)(a.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Title"}),(0,C.jsx)(a.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Counts"}),(0,C.jsx)(a.A,{style:{fontWeight:"bold",fontSize:"1rem"},children:"Action"})]})}),(0,C.jsx)(d.A,{children:0==N.length?(0,C.jsx)("div",{style:{marginLeft:"10px",color:"red"},children:(0,C.jsx)("h3",{children:"No data found"})}):N.map(((e,n)=>(console.log("item",e),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(c.A,{children:[(0,C.jsx)(a.A,{children:n+1}),(0,C.jsx)(a.A,{children:null===e||void 0===e?void 0:e.name}),(0,C.jsx)(a.A,{children:null===e||void 0===e?void 0:e.counter}),(0,C.jsx)(g.A,{"aria-label":"edit",style:{color:"blue"},onClick:()=>(e=>{console.log("data",e),v(e.name),k(e.counter),t(e.id),y(!1),w(!0)})(e),children:(0,C.jsx)(f.A,{})}),(0,C.jsx)(g.A,{"aria-label":"delete",style:{color:"red"},onClick:()=>{return t=null===e||void 0===e?void 0:e.id,console.log("clientCount",t),void A.A.delete("clientCount/delete/".concat(t)).then((e=>{console.log("Data deleted successfully"),E()})).catch((e=>{console.error("Error deleting clientCount:",e)}));var t},children:(0,C.jsx)(p.A,{})})]})}))))})]})}):(0,C.jsx)("form",{onSubmit:V?t=>{t.preventDefault();let n={name:b,counter:S};console.log("newData",n),A.A.put("/clientCount/update/".concat(e),n).then((e=>{console.log("clientCount updated successfully"),E(),y(!0),console.log("Data edited successfully")})).catch((e=>{console.error("Error updating clientCount:",e)}))}:e=>{if(e.preventDefault(),(()=>{let e={},t=!0;return S.trim()?/^\d+$/.test(S.trim())||(e.counter="counter must contain only numbers",t=!1):(e.counter="counter is required",t=!1),b.trim()||(e.name="name is required",t=!1),D(e),t})()){let e={counter:S,name:b};A.A.post("clientCount/create",e,{headers:{"Content-Type":"application/json"}}).then((e=>{console.log("resp",e),alert("Data added successfully"),E()})).catch((e=>{console.log("err",e)})),k(""),v(""),D({}),y(!0),w(!1)}},children:(0,C.jsxs)(u.Ay,{container:!0,spacing:2,children:[(0,C.jsxs)(u.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(h.A,{fullWidth:!0,label:"Name",value:b,onChange:e=>v(e.target.value),variant:"outlined"}),z.name&&(0,C.jsx)("span",{className:"error",style:{color:"red"},children:z.name})]}),(0,C.jsxs)(u.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(h.A,{fullWidth:!0,label:"Counts",value:S,onChange:e=>k(e.target.value),variant:"outlined"}),z.designation&&(0,C.jsx)("span",{className:"error",style:{color:"red"},children:z.counter})]}),(0,C.jsx)(u.Ay,{item:!0,xs:12,children:(0,C.jsx)(m.A,{variant:"contained",type:"submit",color:"".concat(V?"success":"primary"),children:"Submit"})})]})})})})}}}]);